<!-- フラッシュメッセージ表示設定 -->
<div>
    <%= flash[:notice] %>
</div>

<div class="container px-5 px-sm-0">
    <div class="row">
        <div class="col-md-3">
            <!-- render [部分テンプレートファイルの指定], [ローカル変数]:[渡す値] -->
            <%= render 'info', user: @user %>
            <%= render 'new' , book: Book.new %>
        </div>

        <div class="col-md-8 offset-md-1">
            <h1>Book detail</h1>
            <table class="table">
                <thead>
                </thead>

                <tbody>
                    <!-- userの詳細画面へのリンク-->
                    <%= link_to user_path(@book.user) do %>
                        <tr>
                            <td>
                               <!-- 画像 -->
                               <%= image_tag @book.user.get_profile_image(100, 100) %>
                                   <%= @user.name %>
                               <% end %>
                            </td>

                            <!-- bookの詳細画面へのリンク-->
                            <td>
                                <%= link_to book_path(@book) do %>
                                    <%= @book.title %>
                                <% end %>
                            </td>

                            <td><%= @book.body %></td>
                            <td>
                            <% if @book.user == current_user %>
                                <%= link_to "Edit", edit_book_path(@book.id) %>
                                <%= link_to "Destroy", book_path(@book.id), method: :delete, "data-confirm" => "本当に削除しますか？" %>
                            <% end %>
                            </td>
                        </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>